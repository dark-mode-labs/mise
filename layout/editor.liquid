<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    {%- if settings.favicon != blank -%}
      <link
        rel="icon"
        type="image/png"
        href="{{ settings.favicon | image_url: width: 32, height: 32 }}"
      >
    {%- endif -%}

    {%- render 'stylesheets' -%}
    {%- render 'theme_variables' -%}
    
    {{ content_for_header }}
    <meta name="csrf-token" content="{{ csrf_token }}">
    <link rel="stylesheet" href="/assets/css/app.css">
    <script defer type="text/javascript" src="/assets/js/app.js"></script>
  </head>

  <body
    class="page-width-{{ settings.page_width }}"
    style="position: relative;"
  >
    <div
      id="preview-content"
      data-controller="preview-iframe"
      data-preview-iframe-business-uuid-value="{{ shop.uuid }}"
      data-preview-iframe-page-slug-value="{{ page_handle }}"
    >
      <main
        id="MainContent"
        class="content-for-layout"
        data-template="{{ template }}"
      >
        {{ content_for_layout }}
      </main>
    </div>
    <div
      id="block-highlight-overlay"
      style="display:none;"
    >
      <div style="position: absolute; top: -36px; left: 0; right: 0; display: flex; align-items: center; justify-content: center; gap: 8px;">
        <span style="background: #3b82f6; color: white; font-size: 12px; padding: 4px 8px; border-radius: 4px; white-space: nowrap;">
          <!-- block/section name goes here -->
        </span>
        <div
          id="action-menu-overlay"
          style="display:none; pointer-events: auto; background: white; border-radius: 6px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); border: 1px solid #e5e7eb; padding: 4px; gap: 4px; flex-shrink: 0;"
        >
          <!-- Action buttons will be populated here -->
        </div>
      </div>
    </div>

    <div
      id="block-hover-overlay"
      style="display:none;"
    >
      <span style="position: absolute; top: -24px; left: 50%; transform: translateX(-50%); background: #374151; color: white; font-size: 12px; padding: 2px 8px; border-radius: 3px;">
        <!-- block/section name goes here -->
      </span>
    </div>
    <div
      id="block-parent-overlay"
      style="display:none;"
    >
      <span style="position: absolute; top: -24px; left: 0; background: #8b5cf6; color: white; font-size: 12px; padding: 2px 8px; border-radius: 3px;">
        <!-- parent name -->
      </span>
    </div>
  </body>
</html>
