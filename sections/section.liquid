{% assign s = section.settings %}

{% assign animation_class = '' %}
{% if s.enable_animation %}
  {% assign animation_class = 'stagger-load' %}
{% endif %}

{% capture section_spacing_style %}
  {% if s.padding_vertical == 'custom' %}
    padding-top: {{ s.padding_vertical_custom }}px;
    padding-bottom: {{ s.padding_vertical_custom }}px;
  {% endif %}
  {% if s.padding_horizontal == 'custom' %}
     padding-left: {{ s.padding_horizontal_custom }}px;
     padding-right: {{ s.padding_horizontal_custom }}px;
  {% endif %}
{% endcapture %}
{% capture section_spacing_class %}
  {% unless s.padding_vertical == 'custom' %}section-py-{{ s.padding_vertical }}{% endunless %}
  {% unless s.padding_horizontal == 'custom' %}section-px-{{ s.padding_horizontal }}{% endunless %}
{% endcapture %}

<section class="relative color-{{ s.color_scheme }}">
  <div
    class="bg-body width-{{ s.width_scheme }} limit-width {{ section_spacing_class }} flex"
    style="{{ section_spacing_style }}"
  >
    <div class="flex flex-{{ s.flex_direction }} flex-auto justify-between gap-6 section-align-content-{{ s.content_align }} section-align-v-{{ s.vertical_align }} section-align-text-{{ s.text_align }} {{ animation_class }}">
      {% content_for 'blocks' %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Generic section",
  "settings": [
    { "type": "header", "content": "Layout" },
    {
      "type": "width_scheme",
      "id": "width_scheme",
      "label": "Max Content Width",
      "default": "standard"
    },
    {
      "type": "select",
      "id": "height",
      "label": "Section Height",
      "options": [
        { "value": "auto", "label": "Auto (Fit Content)" },
        { "value": "sm", "label": "Small" },
        { "value": "md", "label": "Medium" },
        { "value": "lg", "label": "Large" },
        { "value": "xl", "label": "Fullscreen" },
        { "value": "custom", "label": "Custom" }
      ],
      "default": "auto"
    },
    {
      "type": "range",
      "id": "height_custom",
      "label": "Custom Height",
      "min": 200,
      "max": 1000,
      "step": 10,
      "default": 600,
      "unit": "px",
      "conditional": "setting.height == 'custom'"
    },
    {
      "type": "select",
      "id": "flex_direction",
      "label": "Flex Direction",
      "options": [
        { "value": "col", "label": "Column" },
        { "value": "row", "label": "Row" }
      ],
      "default": "col"
    },
    { "type": "header", "content": "Alignment" },
    {
      "type": "select",
      "id": "content_align",
      "label": "Content Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Text Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "vertical_align",
      "label": "Vertical Alignment",
      "options": [
        { "value": "top", "label": "Top" },
        { "value": "middle", "label": "Middle" },
        { "value": "bottom", "label": "Bottom" }
      ],
      "default": "middle"
    },
    { "type": "header", "content": "Section Spacing" },
    {
      "type": "select",
      "id": "padding_vertical",
      "label": "Vertical Padding",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "xs", "label": "Extra Small" },
        { "value": "sm", "label": "Small" },
        { "value": "md", "label": "Medium" },
        { "value": "lg", "label": "Large" },
        { "value": "xl", "label": "Extra Large" },
        { "value": "custom", "label": "Custom" }
      ],
      "default": "none"
    },
    {
      "type": "range",
      "id": "padding_vertical_custom",
      "label": "Custom Vertical Padding",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 80,
      "unit": "px",
      "conditional": "setting.padding_vertical == 'custom'"
    },
    {
      "type": "select",
      "id": "padding_horizontal",
      "label": "Horizontal Padding",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "xs", "label": "Extra Small" },
        { "value": "sm", "label": "Small" },
        { "value": "md", "label": "Medium" },
        { "value": "lg", "label": "Large" },
        { "value": "xl", "label": "Extra Large" },
        { "value": "custom", "label": "Custom" }
      ],
      "default": "xs"
    },
    {
      "type": "range",
      "id": "padding_horizontal_custom",
      "label": "Custom Horizontal Padding",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 0,
      "unit": "px",
      "conditional": "setting.padding_horizontal == 'custom'"
    },
    { "type": "header", "content": "Theme" },
    { "type": "checkbox", "id": "enable_animation", "label": "Enable Animation", "default": true },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color Palette", "default": "default" }
  ],
  "blocks": [
    { "type": "@theme" },
    { "type": "scroll-indicator" },
    { "type": "text" },
    { "type": "jumbo-text" },
    { "type": "spacer" },
    { "type": "_marquee" },
    { "type": "media" },
    { "type": "group" },
    { "type": "button" }
  ],
  "presets": [
    {
      "name": "Rich Text",
      "settings": {
        "text_align": "text-center items-center"
      },
      "blocks": {
        "heading": {
          "type": "heading",
          "settings": { "text": "Our Story", "display_size": "h2", "tag": "h2" }
        },
        "body": {
          "type": "text",
          "settings": {
            "content": "Founded in 2025, we believe in honest ingredients and good vibes.",
            "display_size": "body"
          }
        },
        "btn": {
          "type": "button",
          "settings": { "label": "Learn More", "style": "link" }
        }
      },
      "block_order": ["heading", "body", "btn"]
    }
  ]
}
{% endschema %}
