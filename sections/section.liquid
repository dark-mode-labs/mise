{% assign s = section.settings %}

{% assign animation_class = '' %}
{% if s.enable_animation %}
  {% assign animation_class = 'stagger-load' %}
{% endif %}

{% capture container_width %}
  {% case s.content_width %}
    {% when 'narrow' %}max-w-2xl mx-auto px-4
    {% when 'standard' %}max-w-4xl mx-auto px-4
    {% when 'wide' %}wrapper
    {% when 'full' %}w-full
  {% endcase %}
{% endcapture %}

<section
  class="color-{{ s.color_scheme }} bg-body text-body flex flex-col {{ s.vertical_align }} pt-[var(--pt)] pb-[var(--pb)] min-h-[var(--min-h)] wrapper-{{ s.content_width }}"
  style="
    --pt: {{ s.padding_top }}px; 
    --pb: {{ s.padding_bottom }}px;
    --min-h: {{ s.min_height }}px;
  "
>
  <div class="w-full {{ container_width }}">
    <div class="flex flex-col gap-6 {{ s.text_align }} {{ animation_class }}">
      {% content_for 'blocks' %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Generic section",
  "settings": [
    { "type": "header", "content": "Layout" },
    {
      "type": "select",
      "id": "content_width",
      "label": "Content Width",
      "options": [
        { "value": "narrow", "label": "Narrow (Reading)" },
        { "value": "standard", "label": "Standard" },
        { "value": "wide", "label": "Wide (Wrapper)" },
        { "value": "full", "label": "Full Width" }
      ],
      "default": "standard"
    },
    {
      "type": "range",
      "id": "min_height",
      "label": "Minimum Height",
      "min": 0,
      "max": 800,
      "step": 40,
      "default": 0,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "vertical_align",
      "label": "Vertical Alignment",
      "options": [
        { "value": "justify-start", "label": "Top" },
        { "value": "justify-center", "label": "Center" },
        { "value": "justify-end", "label": "Bottom" }
      ],
      "default": "justify-center"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Alignment",
      "options": [
        { "value": "text-left items-start", "label": "Left" },
        { "value": "text-center items-center", "label": "Center" },
        { "value": "text-right items-end", "label": "Right" }
      ],
      "default": "text-center items-center"
    },

    { "type": "header", "content": "Spacing" },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top Padding",
      "min": 0,
      "max": 160,
      "step": 4,
      "default": 96,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom Padding",
      "min": 0,
      "max": 160,
      "step": 4,
      "default": 96,
      "unit": "px"
    },

    { "type": "header", "content": "Theme" },
    { "type": "checkbox", "id": "enable_animation", "label": "Enable Animation", "default": true },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color Palette", "default": "scheme-1" }
  ],
  "blocks": [
    { "type": "@theme" },
    { "type": "scroll-indicator" },
    { "type": "text" },
    { "type": "jumbo-text" },
    { "type": "spacer" },
    { "type": "_marquee" },
    { "type": "media" },
    { "type": "group" },
    { "type": "button" }
  ],
  "presets": [
    {
      "name": "Rich Text",
      "settings": {
        "text_align": "text-center items-center",
        "content_width": "standard"
      },
      "blocks": {
        "heading": {
          "type": "heading",
          "settings": { "text": "Our Story", "display_size": "h2", "tag": "h2" }
        },
        "body": {
          "type": "text",
          "settings": {
            "content": "Founded in 2025, we believe in honest ingredients and good vibes.",
            "display_size": "body"
          }
        },
        "btn": {
          "type": "button",
          "settings": { "label": "Learn More", "style": "link" }
        }
      },
      "block_order": ["heading", "body", "btn"]
    }
  ]
}
{% endschema %}
