{% assign s = block.settings %}

<div class="footer-block flex flex-col gap-4">
  {% if s.heading != blank %}
    <h4 class="font-bold uppercase tracking-wider text-sm opacity-60">{{ s.heading }}</h4>
  {% endif %}

  {% if s.text != blank %}
    <p class="text-sm opacity-80">{{ s.text }}</p>
  {% endif %}

  <form action="/contact#footer-newsletter" method="POST" class="mt-2 relative">
    <input type="hidden" name="form_type" value="customer">
    <input type="hidden" name="contact[tags]" value="newsletter">

    <div class="relative group">
      <input
        type="email"
        name="contact[email]"
        placeholder="Email Address"
        required
        class="w-full bg-transparent border-0 border-b border-[var(--color-text)] py-3 pr-10 placeholder-[var(--color-text)]/50 focus:ring-0 focus:border-[var(--color-text)] transition-all outline-none"
      >
      <button type="submit" class="absolute right-0 top-1/2 -translate-y-1/2 hover:opacity-70" aria-label="Subscribe">
        {% render 'icon', name: 'arrow-right', class: 'w-4 h-4' %}
      </button>
    </div>

    <div class="hidden text-green-500 text-sm mt-2 font-bold">Thank you for subscribing!</div>
  </form>
</div>

{% schema %}
{
  "name": "Newsletter",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Join the Club" },
    { "type": "text", "id": "text", "label": "Text", "default": "Exclusive events and seasonal menu updates." }
  ]
}
{% endschema %}
