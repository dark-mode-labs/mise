{% assign s = block.settings %}
{% capture scheme_class %}
  {% unless s.inherit_styles %}color-{{ s.color_scheme | default: 'none' }}{% endunless %}
{% endcapture %}

<div
  class="footer-block {{ scheme_class }}"
  {{ context.attached_attributes }}
>
  <details class="group" open>
    <summary class="flex items-center justify-between font-bold uppercase tracking-wider text-sm opacity-60 py-4 md:py-0 cursor-pointer md:cursor-default list-none md:mb-4">
      {{ s.heading }}
      {% render 'icon', name: 'chevron-right', class: 'w-4 h-4 transition-transform group-open:rotate-90 md:hidden' %}
    </summary>

    <ul class="flex-col gap-3 pb-4 md:pb-0 hidden group-open:flex md:flex">
      {% for link in s.menu.links %}
        <li>
          <a href="{{ link.url }}" class="hover:opacity-70 transition-opacity text-base block">
            {{ link.title }}
          </a>
        </li>
      {% endfor %}
    </ul>
  </details>
</div>

{% schema %}
{
  "name": "Nav Group",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Quick Links" },
    { "type": "link_list", "id": "menu", "label": "Menu", "default": "footer" },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "checkbox",
      "id": "inherit_styles",
      "label": "Inherit Styles",
      "default": true
    },
    {
      "type": "header",
      "content": "Overrides",
      "conditional": "setting.inherit_styles != true"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Palette",
      "default": "default",
      "conditional": "setting.inherit_styles != true"
    }
  ]
}
{% endschema %}
