{% capture style_override %}
  {% unless block.settings.inherit_color_scheme %}
    style="--color-text: {{ block.settings.custom_color }};"
  {% endunless %}
{% endcapture %}

<div class="w-full max-w-prose" {{ style_override }}>
  {% render 'typography', 
     text: block.settings.content, 
     tag: 'div', 
     display_size: block.settings.display_size
  %}
</div>

{% schema %}
{
  "name": "Text",
  "settings": [
    {
      "type": "textarea",
      "id": "content",
      "label": "Content",
      "default": "Locally sourced ingredients."
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "select",
      "id": "display_size",
      "label": "Size",
      "default": "body",
      "options": [
        { "value": "body", "label": "Body" },
        { "value": "caption", "label": "Caption" }
      ]
    },
    {
      "type": "checkbox",
      "id": "inherit_color_scheme",
      "label": "Inherit Color Scheme",
      "default": true
    },
    {
      "type": "color",
      "id": "custom_color",
      "label": "Custom Color",
      "default": "#ffffff"
    }
  ]
}
{% endschema %}