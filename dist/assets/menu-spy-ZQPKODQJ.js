import"./chunk-I63RXT67.js";var i=class{constructor(t){if(this.nav=t,this.scope=this.nav.closest("[data-spy-scope]"),!this.scope){console.warn("MenuSpy: No [data-spy-scope] parent found.");return}this.triggers=this.nav.querySelectorAll("[data-spy-trigger]"),this.targets=this.scope.querySelectorAll("[data-spy-target]"),this.observer=null,this.options={root:null,rootMargin:"-30% 0px -50% 0px",threshold:0},this.init()}init(){this.targets.length&&(this.triggers.forEach(t=>{t.addEventListener("click",e=>this.handleScroll(e))}),this.observer=new IntersectionObserver(this.onIntersect.bind(this),this.options),this.targets.forEach(t=>{this.observer.observe(t)}))}handleScroll(t){t.preventDefault();let e=t.currentTarget.dataset.spyTrigger,s=this.scope.querySelector(`[data-spy-target="${e}"]`);if(s){let r=s.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:r,behavior:"smooth"})}}onIntersect(t){t.forEach(e=>{if(e.isIntersecting){let s=e.target.dataset.spyTarget;this.activateTrigger(s)}})}activateTrigger(t){this.triggers.forEach(s=>s.classList.remove("is-active"));let e=this.nav.querySelector(`[data-spy-trigger="${t}"]`);e&&e.classList.add("is-active")}disconnect(){this.observer&&this.observer.disconnect()}};export{i as default};
